---
title: 1C Батники для создания служб
tags:
  - 1c
  - windows
  - bat
  - powershell
  - server
---

create_1c_ras.bat
```
@echo off

set odin_s_version=8.3.23.1865
set port_prefix=23

set service_name="1C:Enterprise Remote Server %odin_s_version%"
set binPathVar="\"C:\Program Files\1cv8\%odin_s_version%\bin\ras.exe\" cluster --service --port=%port_prefix%45 localhost:%port_prefix%40"

sc create %service_name% binPath= %binPathVar% start= auto displayname= %service_name%
sc description %service_name% %service_name%
sc start %service_name%
```


create_1c_server_agent.bat
```
@echo off

set odin_s_version=8.3.24.1738
set port_prefix=24

set service_name="1C:Enterprise Server Agent %odin_s_version%"
set binPathVar="\"C:\Program Files\1cv8\%odin_s_version%\bin\ragent.exe\" -srvc -agent -regport %port_prefix%41 -port %port_prefix%40 -range %port_prefix%60:%port_prefix%91 -d \"C:\1c_srvinfo_custom\%odin_s_version%\" -debug"


sc create %service_name% binPath= %binPathVar% start= auto displayname= %service_name%
sc description %service_name% %service_name%
sc start %service_name%
```




create_1c_ras_service.ps1
```
$odin_s_version = "8.3.24.1738"
$port_prefix = "24"

$service_name="1C:Enterprise Remote Server $($odin_s_version)"
$binPathVar="`"C:\Program Files\1cv8\$($odin_s_version)\bin\ras.exe`" cluster --service --port=$($port_prefix)45 localhost:$($port_prefix)40"

$params = @{
  Name = $service_name
  BinaryPathName = $binPathVar
  DisplayName = $service_name
  StartupType = "Auto"
  Description = $service_name
}

Write-Host $service_name

New-Service @params


Start-Service $service_name


#sc create %service_name% binPath= %binPathVar% start= auto displayname= %service_name%
#sc description %service_name% %service_name%
#sc start %service_name%
sc delete $service_name
```




